<div class="flex flex-col h-screen bg-gray-100">
    <div class="flex">
        <aside class="w-64 bg-white shadow-md h-full">
            {{> aside }}
        </aside>
        <main class="flex-1 overflow-y-auto p-6 bg-gray-100 h-full">
            <div class="flex-1 flex flex-col">
                <header
                    class="h-32 bg-gradient-to-r from-blue-500 to-green-500 shadow-lg flex items-center justify-between px-6 relative">
                    <div class="absolute inset-0 bg-cover bg-center opacity-30"
                        style="background-image: url('your-banner-image.jpg');"></div>
                    <div class="relative z-10 flex items-center">
                        <img src="your-decorative-image.svg" alt="Decorative" class="w-12 h-12 mr-4">
                        <h1 class="text-2xl font-semibold text-white mb-0">
                            Welcome, {{personalInfo.lastName}} {{personalInfo.firstName}}!
                        </h1>
                    </div>
                </header>


                <main class="flex-1 p-6 overflow-y-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div
                            class="card shadow-lg rounded-xl p-6 flex flex-col items-center space-y-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 ease-in-out overflow-hidden">
                            <div
                                class="bg-blue-500 text-white p-4 rounded-full flex items-center justify-center w-16 h-16 hover:bg-blue-600 transition-colors duration-300">
                                <a href="/admin/users" class="text-white">
                                    <i class="bi bi-person-fill fs-2"></i>
                                </a>
                            </div>
                            <div class="text-center">
                                <h2 class="text-xl font-bold text-gray-800">Total Actived Users</h2>
                                <p class="text-gray-600 mb-0">Total: {{activedUsers}}</p>
                            </div>
                        </div>

                        <div
                            class="card shadow-lg rounded-xl p-6 flex flex-col items-center space-y-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 ease-in-out overflow-hidden">
                            <div
                                class="bg-green-500 text-white p-4 rounded-full flex items-center justify-center w-16 h-16 hover:bg-green-600 transition-colors duration-300">
                                <a href="/admin/products" class="text-white">
                                    <i class="bi bi-box-fill fs-2"></i>
                                </a>
                            </div>
                            <div class="text-center">
                                <h2 class="text-xl font-bold text-gray-800">Products</h2>
                                <p class="text-gray-600 mb-0">Total: {{products}}</p>
                            </div>
                        </div>

                        <div
                            class="card shadow-lg rounded-xl p-6 flex flex-col items-center space-y-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 ease-in-out overflow-hidden">
                            <div
                                class="bg-yellow-500 text-white p-4 rounded-full flex items-center justify-center w-16 h-16 hover:bg-yellow-600 transition-colors duration-300">
                                <a href="/admin/orders" class="text-white">
                                    <i class="bi bi-basket-fill fs-2"></i>
                                </a>
                            </div>
                            <div class="text-center">
                                <h2 class="text-xl font-bold text-gray-800">Orders</h2>
                                <p class="text-gray-600 mb-0">Total: {{orders}}</p>
                            </div>
                        </div>

                    </div>

                    <div class="bg-white shadow rounded-lg p-6 mt-6">
                        <h2 class="text-lg font-bold mb-4">Performance Overview</h2>
                        <canvas id="dashboardChart" class="w-full h-64"></canvas>
                    </div>
                </main>
            </div>
        </main>
    </div>
    <div>
        {{> footer }}
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const users = parseInt('{{users}}') || 0;
        const products = parseInt('{{products}}') || 0;
        const orders = parseInt('{{orders}}') || 0;

        const ctx = document.getElementById('dashboardChart').getContext('2d');

        const data = {
            labels: ['Users', 'Products', 'Orders'],
            datasets: [
                {
                    label: 'Count',
                    data: [users, products, orders],
                    backgroundColor: ['#3b82f6', '#10B981', '#F59E0B'],
                    borderColor: ['#4F46E5', '#059669', '#D97706'],
                    borderWidth: 1,
                },
            ],
        };

        const dashboardChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false,
                    },
                },
                scales: {
                    y: {
                        beginAtZero: true,
                    },
                },
            },
        });
    });
</script>